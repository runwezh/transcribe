<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LRC解析器</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>LRC文件解析器</h1>
        <div class="card">
            <form id="upload-form" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="file">选择LRC文件:</label>
                    <input type="file" id="file" name="file" accept=".lrc" required>
                </div>
                
                <div class="form-group">
                    <label for="global_time_shift">全局时间调整(秒):</label>
                    <input type="number" id="global_time_shift" name="global_time_shift" value="-1.0" step="0.1">
                    <small>负值表示提前，正值表示延后</small>
                </div>
                
                <div class="form-group">
                    <label>特殊词时间调整:</label>
                    <div id="special-words-container">
                        <div class="special-word-item">
                            <input type="text" placeholder="词语" class="word-input">
                            <input type="number" placeholder="调整值(秒)" step="0.1" class="time-input">
                            <button type="button" class="remove-btn">删除</button>
                        </div>
                    </div>
                    <button type="button" id="add-word-btn">添加特殊词</button>
                    <small>例如: "的:3.0" 表示"的"字慢3秒</small>
                </div>
                
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="add_line_breaks" name="add_line_breaks" checked>
                        添加换行符
                    </label>
                </div>
                
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="add_punctuation" name="add_punctuation" checked>
                        添加标点符号
                    </label>
                </div>
                
                <div class="form-group">
                    <button type="submit" id="submit-btn">上传并处理</button>
                </div>
            </form>
        </div>
        
        <div id="result" class="card hidden">
            <h2>处理结果</h2>
            <div id="result-message"></div>
            <div class="button-group">
                <a id="download-link" class="button" target="_blank">下载JSON文件</a>
                <a id="edit-link" class="button" target="_blank">在线编辑文本</a>
                <button id="process-another" class="button">处理另一个文件</button>
            </div>
        </div>
        
        <div id="loading" class="hidden">
            <div class="spinner"></div>
            <p>处理中，请稍候...</p>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>