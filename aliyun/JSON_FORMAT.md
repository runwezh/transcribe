# JSON 输出格式说明

本文档详细说明了由阿里云语音识别服务生成的 JSON 文件的结构和字段含义。

## 格式概述

该 JSON 格式用于存储语音转文字的详细结果。它不仅包含完整的句子，还提供了精确到每个单词的时间戳信息，非常适合用于生成字幕、内容索引或进行数据分析。

## 顶级结构

JSON 文件是一个包含两个主要键的对象：

-   `segments`: 一个数组，包含了所有识别出的语音片段（通常是句子）。
-   `metadata`: 一个对象，包含了关于整个识别任务的元数据。

```json
{
  "segments": [ ... ],
  "metadata": { ... }
}
```

---

## `segments` 对象详解

`segments` 是一个数组，其中每个元素都是一个代表语音片段的 JSON 对象。

| 字段名       | 类型    | 描述                                                         | 示例                               |
| :----------- | :------ | :----------------------------------------------------------- | :--------------------------------- |
| `text`       | String  | 识别出的该片段的完整文本。                                   | `"读万卷书，行万里路。"`           |
| `start_time` | Number  | 该片段在音频中的开始时间（单位：秒）。                       | `0.0`                              |
| `end_time`   | Number  | 该片段在音频中的结束时间（单位：秒）。                       | `3.823`                            |
| `confidence` | Number  | 该片段的置信度分数。`-1` 表示未提供。                       | `-1`                               |
| `words`      | Array   | 一个包含该片段中所有词语详细信息的数组。见下方 `words` 对象详解。 | `[ { "text": "读万卷书", ... } ]` |

### 示例 `segment` 对象

```json
{
  "text": "读万卷书，行万里路。",
  "start_time": 0.0,
  "end_time": 3.823,
  "confidence": -1,
  "words": [
    {
      "text": "读万卷书",
      "start_time": 0.0,
      "end_time": 0.952,
      "confidence": -1
    },
    {
      "text": "行万里路",
      "start_time": 0.955,
      "end_time": 1.911,
      "confidence": -1
    }
  ]
}
```

---

## `words` 对象详解

`words` 数组中的每个元素都是一个对象，代表一个被识别出的词语。

| 字段名       | 类型   | 描述                                       | 示例       |
| :----------- | :----- | :----------------------------------------- | :--------- |
| `text`       | String | 识别出的单个词语。                         | `"读书"`   |
| `start_time` | Number | 该词语在音频中的开始时间（单位：秒）。     | `2.628`    |
| `end_time`   | Number | 该词语在音频中的结束时间（单位：秒）。     | `3.106`    |
| `confidence` | Number | 该词语的置信度分数。`-1` 表示未提供。     | `-1`       |

---

## `metadata` 对象详解

`metadata` 对象提供了关于整个转录任务的摘要信息。

| 字段名           | 类型   | 描述                                   | 示例                               |
| :--------------- | :----- | :------------------------------------- | :--------------------------------- |
| `generated_at`   | String | 文件生成的时间戳 (ISO 8601 格式)。     | `"2025-07-14T13:59:18.116344"`     |
| `total_segments` | Number | 文件中 `segments` 的总数。             | `34`                               |
| `total_duration` | Number | 媒体文件的总时长（单位：秒）。         | `232.78`                           |
| `service`        | String | 提供识别服务的名称。                   | `"aliyun_asr"`                     |
| `version`        | String | 当前 JSON 格式的版本号。               | `"1.0"`                            |

### 示例 `metadata` 对象

```json
{
  "generated_at": "2025-07-14T13:59:18.116344",
  "total_segments": 34,
  "total_duration": 232.78,
  "service": "aliyun_asr",
  "version": "1.0"
}
